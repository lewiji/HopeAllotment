{"version":3,"sources":["webpack:///./src/pages/contact.js"],"names":["ContactPage","functionURL","useState","name","setName","email","setEmail","phone","setPhone","message","setMessage","submitting","setSubmitting","error","setError","success","setSuccess","onSubmit","event","a","preventDefault","fetch","method","headers","body","URLSearchParams","fromEmail","subject","toString","response","status","json","keywords","title","className","action","htmlFor","id","placeholder","type","onChange","e","target","value","rows","disabled","onClick"],"mappings":"kMAqKeA,UAhKf,WACE,IAAMC,EAAc,6CADC,EAGGC,mBAAS,IAA1BC,EAHc,KAGRC,EAHQ,OAIKF,mBAAS,IAA5BG,EAJc,KAIPC,EAJO,OAKKJ,mBAAS,IAA5BK,EALc,KAKPC,EALO,OAMSN,mBAAS,IAAhCO,EANc,KAMLC,EANK,OAOeR,oBAAS,GAAtCS,EAPc,KAOFC,EAPE,OAQKV,mBAAS,IAA5BW,EARc,KAQPC,EARO,OASSZ,mBAAS,IAAhCa,EATc,KASLC,EATK,KAWfC,EAAQ,uCAAG,WAAOC,GAAP,eAAAC,EAAA,yDACfD,EAAME,iBACM,IAARjB,GAAuB,IAATE,GAA0B,IAAXI,EAFlB,uBAGbK,EAAS,gDAHI,iCAMfF,GAAc,GANC,SAOQS,MAAMpB,EAAa,CACxCqB,OAAQ,OACRC,QAAS,CACP,eAAgB,oDAElBC,KAAM,IAAIC,gBAAgB,CACxBC,UAAWrB,EACXsB,QAAS,0CACTH,KAAMf,EACNN,OACAI,UACCqB,aAlBU,UAoBS,OAblBC,EAPS,QAoBFC,OApBE,iBAqBbhB,GAAS,GACTF,GAAc,GACdN,EAAS,IACTF,EAAQ,IACRI,EAAS,IACTE,EAAW,IACXM,EAAW,6DA3BE,yCA6BMa,EAASE,OA7Bf,eA8BbjB,EAAS,iDACTF,GAAc,GACdI,EAAW,IAhCE,4CAAH,sDAoCd,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEgB,SAAU,CAAC,OAAD,sCACVC,MAAM,YAER,6BAASC,UAAU,eACjB,wBAAIA,UAAU,6EAAd,cAGA,yBAAKA,UAAU,yFACb,uBAAGA,UAAU,QAAb,2JAKA,uBAAGA,UAAU,SACb,uBAAGA,UAAU,QAAb,6HAIA,uBAAGA,UAAU,QAAb,0CAGF,yBAAKA,UAAU,iCAAiCnB,GAChD,yBAAKmB,UAAU,mCAAmCrB,GAElD,0BAAMqB,UAAU,mBAAmBZ,OAAO,OAAOa,OAAQlC,GACvD,2BACEiC,UAAU,mDACVE,QAAQ,QAFV,OAIM,0BAAMF,UAAU,8BAAhB,MAGN,2BACEA,UAAU,yBACVG,GAAG,OACHC,YAAY,YACZC,KAAK,OACLC,SAAU,SAACC,GACTrC,EAAQqC,EAAEC,OAAOC,QAEnBA,MAAOxC,IAGT,2BACE+B,UAAU,mDACVE,QAAQ,SAFV,QAIO,0BAAMF,UAAU,8BAAhB,MAGP,2BACEA,UAAU,yBACVG,GAAG,QACHC,YAAY,aACZC,KAAK,OACLC,SAAU,SAACC,GACTnC,EAASmC,EAAEC,OAAOC,QAEpBA,MAAOtC,IAGT,2BACE6B,UAAU,mDACVE,QAAQ,SAFV,SAOA,2BACEF,UAAU,yBACVG,GAAG,QACHC,YAAY,oBACZC,KAAK,OACLC,SAAU,SAACC,GACTjC,EAASiC,EAAEC,OAAOC,QAEpBA,MAAOpC,IAGT,2BACE2B,UAAU,mDACVE,QAAQ,WAFV,UAIS,0BAAMF,UAAU,8BAAhB,MAGT,8BACEA,UAAU,4BACVG,GAAG,UACHC,YAAY,mBACZM,KAAK,IACLJ,SAAU,SAACC,GACT/B,EAAW+B,EAAEC,OAAOC,QAEtBA,MAAOlC,IAGT,4BACEoC,SAAUlC,EACVmC,QAAS7B,EACTiB,UAAU,iIAHZ","file":"component---src-pages-contact-js-905ce93d264d249383ee.js","sourcesContent":["import React, { useState } from \"react\";\n\nimport Layout from \"../components/layout\";\nimport SEO from \"../components/seo\";\n\nfunction ContactPage() {\n  const functionURL = \"https://almond-fox-7125.twil.io/send-email\";\n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (name == \"\" || email == \"\" || message == \"\") {\n      setError(\"Name, email and message fields are required.\");\n      return;\n    }\n    setSubmitting(true);\n    const response = await fetch(functionURL, {\n      method: \"post\",\n      headers: {\n        \"Content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n      },\n      body: new URLSearchParams({\n        fromEmail: email,\n        subject: \"New message from HOPE allotment website\",\n        body: message,\n        name,\n        phone,\n      }).toString(),\n    });\n    if (response.status === 200) {\n      setError(false);\n      setSubmitting(false);\n      setEmail(\"\");\n      setName(\"\");\n      setPhone(\"\");\n      setMessage(\"\");\n      setSuccess(\"Message sent successfully. Someone will be in touch soon!\");\n    } else {\n      const json = await response.json();\n      setError(\"Failed to send email. Please try again later.\");\n      setSubmitting(false);\n      setSuccess(\"\");\n    }\n  };\n\n  return (\n    <Layout>\n      <SEO\n        keywords={[`hope`, `community`, `allotment`, `volunteers`]}\n        title=\"Contact\"\n      />\n      <section className=\"text-center\">\n        <h2 className=\"inline-block p-3 mb-6 text-2xl mx-auto font-bold headingpattern uppercase\">\n          Contact Us\n        </h2>\n        <div className=\"font-medium flex flex-col mx-auto tracking-normal md:tracking-wide text-justify w-3/4\">\n          <p className=\"mb-2\">\n            We want the people of Sheffield to get involved with our allotments.\n            We are always looking for new people who want to take an active role\n            in our group.\n          </p>\n          <p className=\"mb-2\"></p>\n          <p className=\"mb-2\">\n            If you want to meet new people, get more exercise, or simply have a\n            keen interest in gardening, we want to hear from you.\n          </p>\n          <p className=\"mb-6\">Please leave a contact message below.</p>\n        </div>\n\n        <div className=\" text-green-700 font-semibold\">{success}</div>\n        <div className=\"text-red-600 font-semibold mb-3\">{error}</div>\n\n        <form className=\"mx-auto md:w-1/2\" method=\"post\" action={functionURL}>\n          <label\n            className=\"block mb-2 text-xs text-left font-bold uppercase\"\n            htmlFor=\"name\"\n          >\n            Name<span className=\"text-red-600 font-semibold\">*</span>\n          </label>\n\n          <input\n            className=\"w-full mb-6 form-input\"\n            id=\"name\"\n            placeholder=\"Your Name\"\n            type=\"text\"\n            onChange={(e) => {\n              setName(e.target.value);\n            }}\n            value={name}\n          />\n\n          <label\n            className=\"block mb-2 text-xs text-left font-bold uppercase\"\n            htmlFor=\"email\"\n          >\n            Email<span className=\"text-red-600 font-semibold\">*</span>\n          </label>\n\n          <input\n            className=\"w-full mb-6 form-input\"\n            id=\"email\"\n            placeholder=\"Your Email\"\n            type=\"text\"\n            onChange={(e) => {\n              setEmail(e.target.value);\n            }}\n            value={email}\n          />\n\n          <label\n            className=\"block mb-2 text-xs text-left font-bold uppercase\"\n            htmlFor=\"phone\"\n          >\n            Phone\n          </label>\n\n          <input\n            className=\"w-full mb-6 form-input\"\n            id=\"phone\"\n            placeholder=\"Your Phone Number\"\n            type=\"text\"\n            onChange={(e) => {\n              setPhone(e.target.value);\n            }}\n            value={phone}\n          />\n\n          <label\n            className=\"block mb-2 text-xs text-left font-bold uppercase\"\n            htmlFor=\"message\"\n          >\n            Message<span className=\"text-red-600 font-semibold\">*</span>\n          </label>\n\n          <textarea\n            className=\"w-full mb-6 form-textarea\"\n            id=\"message\"\n            placeholder=\"Say something...\"\n            rows=\"8\"\n            onChange={(e) => {\n              setMessage(e.target.value);\n            }}\n            value={message}\n          />\n\n          <button\n            disabled={submitting}\n            onClick={onSubmit}\n            className=\"px-4 py-2 text-sm font-bold text-white bg-gray-700 border-b-4 border-gray-800 rounded hover:border-gray-700 hover:bg-gray-600\"\n          >\n            Submit\n          </button>\n        </form>\n      </section>\n    </Layout>\n  );\n}\n\nexport default ContactPage;\n"],"sourceRoot":""}